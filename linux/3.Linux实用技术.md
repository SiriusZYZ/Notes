
# 3.1快捷键

| 快捷键         | 含义                                                           |
| -------------- | -------------------------------------------------------------- |
| `Ctrl + C`     | 强制停止命令，或取消本次输入，但不能退出vi, vim                |
| `Ctrl + D`     | 登出或退出，可以用于退出当前用户或某些程序内部命令行(如python) |
| 键入`history`  | 查看用户输入过的全部命令                                       |
| `!co`          | 执行上次以co开头的命令，最好不用                               |
| `Ctrl + R`     | 根据内容匹配历史命令，按回车执行，按左右键得到命令(不执行)     |
| `Ctrl + A`     | 跳到命令开头                                                   |
| `Ctrl + E`     | 跳到命令尾部                                                   |
| `Ctrl + Left`  | 左跳一个单词                                                   |
| `Ctrl + Right` | 右跳一个单词                                                   |
| `Ctrl + L`     | 清屏                                                           |
| 键入`clear`    | 清屏                                                               |

# 3.2联网软件安装

CentOS 使用 `.rpm`  文件为安装文件，使用 yum 命令安装
Ubuntu 使用 `.deb`  文件为安装文件，使用 apt 命令安装 

## 3.2.1|yum

- yum适用于CentOS， 执行时需要root权限
```shell
sudo yum [-y] [install remove search] {Software Name}
```
- 寻找对应软件并执行操作
- -y表示自动确认
- install 为安装
- remove 为卸载
- search 为搜索
- update 为更新商店元数据

## 3.2.1|apt
- apt适用于Ubuntu，执行时需要root权限
```shell
sudo apt [-y] [install remove search] {Software Name}
```
- 寻找对应软件并执行操作
- -y表示自动确认
- install 为安装
- remove 为卸载
- search 为搜索
- update 为更新商店元数据

# 3.3软件启动和停止

- Linux系统许多软件(服务)均支持`systemctl`控制启动、停止、开机自启等
- 许多软件安装后自动集成到systemctl服务中，没有此功能的得手动配置
```shell
systemctl [start stop status enable disable] {Service Name}
```
- 对对应服务执行相关操作
- start 启动
- stop 停止
- status 查看状态
- enable 开机自启
- disable 关闭开机自启

# 3.4软连接

```bash
ln -s {LNK_src} {LNK_dst}
```
- 创建对LNK_src创建在LNK_dst的软连接
- -s 表示软连接
- `LNK_src` 需要的是绝对路径
- `LNK_dst` 需要的是绝对路径
- 创建相当于src的快捷方式，存放在LNK_dst
- 支持文件夹和文件的软链接


# 3.5|日期和时间


## 3.5.1|当前时间

```shell
date
date [+"{Format_String}"]
date [-d] {"{+/-}{N} {unit}"} [+"{Format_String}"]
```
- `date` 直接返回当前时间日期: `Fri Aug  4 10:55:18 CST 2023`
- `date +"{Format_String}"` 按照一定格式返回时间日期:
  - `%Y` 年; `%y` 两位数年
  - `%m` 月
  - `%d` 日
  - `%H` 小时
  - `%M` 分钟
  - `%S` 秒
  - `%s` epoch秒
- `date [-d {"{+/-}{N} {unit}"}] [+"{Format_String}"]` 可以执行时间加减操作
  - `"{+/-}{N} {unit}"`  表示往前或往后N个单位的时间，单位支持`second, minute, hour, day, week, month, year`


## 3.5.2|变更时区

```shell
# 变更时区需要root权限
su - root

# 删除当前时区文件
rm -f /etc/localtime

# 将储存的时区信息链接为时区文件
ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime

```

## 3.5.3|时间校准

使用ntp程序
```shell
 
 4 Aug 11:25:21 ntpdate[31492]: adjust time server 203.107.6.88 offset 0.007434 sec
```

# 3.6网络

## 3.6.1|IP

- 安装`net-tools` 可以配置、查看网络信息
```shell
sudo apt -y install net-tools
sudo yum -y install net-tools
```

- 查看本机ip地址
```shell
ifconfig
```
- 能显示系统正在使用的网卡，及网卡的信息

- IP: `127.0.0.1`： 本机
- IP: `0.0.0.0` 本机、端口

## 3.6.2|主机名

```shell
hostname
```
- 返回本机主机名

```shell
hostnamectl set-hostname {"Hostname"}
```
- 设置本机主机名，需要root权限


## 3.6.3|ping

```shell
ping [-c {N}] {ip or hostname}
```
- 检查对应ip或服务器是否可达
- `-c N` 代表ping次数(count)，不指定的话则ping无数次，直到ctrl + c取消

## 3.6.4|wget

```shell
wget [-b] {url}
```
- 下载url对应资源
- `-b` 表示`background` 即后台下载，会把日志写到当前工作目录的`wget-log`中，可以用`tail`查看

## 3.6.5|curl

```shell
curl [-O] {url}
```
- 请求资源或下载文件
- `-O` 用于下载并保存文件，不加的话只是请求

```shell
# 请求本机公网ip地址
sirius@B546-ZYZ:~$ curl cip.cc
IP      : 113.54.153.22
地址    : 中国  四川  成都
运营商  : 电子科技大学

数据二  : 四川省成都市 | 电子科技大学清水河校区

数据三  : 中国四川省成都市 | 教育网

URL     : http://www.cip.cc/113.54.153.22
```

## 3.6.6|端口扫描

- 支持(0 ~ 65535)65536个端口
  1. 0~1023: 公认端口，基本公认给某些服务，如22-SSH, 80-HTTP, 443-HTTPS
  2. 1204~49151：注册端口，用于绑定一些程序或服务
  3. 49152~65535：动态端口，通常不会固定绑定程序


```shell
nmap {IP}
```
- nmap(可能要安装)进行对应IP的端口扫描，查看占用情况
```shell
# 查看baidu.com 服务器的端口开放情况
[root@sirius ~]# nmap 39.156.66.10

Starting Nmap 6.40 ( http://nmap.org ) at 2023-08-05 15:07 CST
Nmap scan report for 39.156.66.10
Host is up (0.012s latency).
Not shown: 998 filtered ports
PORT    STATE SERVICE
80/tcp  open  http
443/tcp open  https

Nmap done: 1 IP address (1 host up) scanned in 5.05 seconds
```


```shell
netstat [-parameter]
```
- netstat 用于显示网络连接状态和相关信息
- `-a` 为列出tcp, udp及unix协议下所有套接字连接
- `-t` 列出tcp连接
- `-u` 列出udp连接
- `-n` 禁用反向域名解析，即不查找IP对应的主机名，以此提升查询速度
- `-l` 只列出正在监听的连接
- `-p` 列出进程信息
- `-r` 列出路由信息
- `-i` 列出网卡信息
- `-s` 统计不同网络协议信息
- 常用方法:
```shell
netstat -anp # 查看所有活跃连接，且显示进程

# 查找某一端口是否活跃或查找某一进程的网络连接
[root@sirius ~]# netstat -anp | grep sshd
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1051/sshd
tcp        0     36 172.23.209.76:22        113.54.153.22:56051     ESTABLISHED 1195/sshd: root@pts
unix  2      [ ]         DGRAM                    17147    1195/sshd: root@pts
unix  3      [ ]         STREAM     CONNECTED     16564    1051/sshd
```


# 3.7进程管理

## 3.7.1|查看进程

```shell
ps [-e -f]
```
- 查看正在进行中的进程
- `-e` 显示全部进程
- `-f` 展示全部详细信息 

| `UID`  | `PID`  | `PPID`   | `STIME`      | `TTY`                     | `TIME`      | `CMD`    |
| ------ | ------ | -------- | ------------ | ------------------------- | ----------- | -------- |
| 用户ID | 进程ID | 父进程ID | 进程启动时间 | 终端序号, ?表示非终端启动 | 占用CPU时间 | 启动命令 | 

常用的是加 `| grep` 来过滤


## 3.7.2|停止进程

```shell
kill [-9] {PID}
```
- 杀死进程
- `-9` 表示强制杀死进程，不加的话会发送信号通知该进程退出，但究竟会不会退出会由进程自身决定

- 非强制退出：进程显示`Terminated`
- 强制：进程显示`killed`
