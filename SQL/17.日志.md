# 17.1日志类别

## 17.1.1|errorlog错误日志

- 记录范围： 从mysqld 服务启动到停止过程中，在运行是发狠的任何严重错误的相关信息。
- 作用：当服务器出现任何故障时应首先查看此日志
- 开启情况：默认开启
- 查看: `cat /var/log/mysqld.log` 
- 错误日志有这些级别: `System`， `Warning` ，`ERROR`

```mysql
mysql> show variables like "%log_error%";
+----------------------------+----------------------------------------+
| Variable_name              | Value                                  |
+----------------------------+----------------------------------------+
| binlog_error_action        | ABORT_SERVER                           |
| log_error                  | /var/log/mysqld.log                    |
| log_error_services         | log_filter_internal; log_sink_internal |
| log_error_suppression_list |                                        |
| log_error_verbosity        | 2                                      |
+----------------------------+----------------------------------------+
5 rows in set (0.00 sec)
```

## 17.1.2|binlog二进制日志
- `binlog` 是二进制日志
- 内容：`binlog` 记录了任何会对数据产生更改的语句, 换而言之记录了所有的`DDL` 和`DML` 语句， 但不包括`DQL` 和`SHOW` 语句。
- 作用：因为记录了所有更改语句所以
  1. 灾难恢复
  2. MySQL 主从复制
- 相关配置: 
```mysql
mysql> show variables like "%log_bin%";
+---------------------------------+-----------------------------+
| Variable_name                   | Value                       |
+---------------------------------+-----------------------------+
| log_bin                         | ON                          |
| log_bin_basename                | /var/lib/mysql/binlog       |
| log_bin_index                   | /var/lib/mysql/binlog.index |
| log_bin_trust_function_creators | OFF                         |
| log_bin_use_v1_row_events       | OFF                         |
| sql_log_bin                     | ON                          |
+---------------------------------+-----------------------------+
6 rows in set (0.00 sec)
```

- `log_bin_basename` 保存了 binlog文件的前缀(和路径)
- `log_bin_index` 行保存了 当前有的所有binlog的文件名
```shell
[root@sirius ~]# find /var/lib/mysql/ -name "binlog*"
/var/lib/mysql/binlog.000005
/var/lib/mysql/binlog.000004
/var/lib/mysql/binlog.index
/var/lib/mysql/binlog.000006
[root@sirius ~]# cat /var/lib/mysql/binlog.index
./binlog.000004
./binlog.000005
./binlog.000006
```

